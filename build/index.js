function e(){return(e=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function n(e,n){return n||(n=e.slice(0)),e.raw=n,e}function t(e=""){return document.createComment(e)}function r(e=""){return document.createTextNode(e)}function s(e,n){const[t,r]=[].concat(n);t.parentNode&&(r&&t.nextSibling!==r&&o(t.nextSibling,r),t.parentNode.replaceChild(e,t))}function o(e,n=null,t=e.parentNode){if(t)for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}}function i(e){let n=0;for(;e=e.previousSibling;)n++;return n}function a(e){const n=[];for(;e.parentNode;)n.unshift(i(e)),e=e.parentNode;return n}const l=Symbol();function c(e,n){return u(e)&&u(n)&&e.strings===n.strings}function u(e){return e&&e[l]}const d=/__(\d+)__/,p=/^(?:style|textarea)$/i;function h(e){const n=e.match(d);return Number(n?n[1]:-1)}const f={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};const g=[],b=[];let m=!1,v=0,y=!0;function x(e,n){let t=0;for(;n-performance.now()>0&&t<e.length;){const n=e[t++];n.task(...n.args),n.args=void 0,n.pending=!1}e.splice(0,t)}function k(e,n){e.pending=!0,1===n?g.push(e):0===n&&b.push(e),m||function e(){m=!0,requestAnimationFrame(()=>{v++;const n=performance.now()+10*Math.ceil(.02*v);x(g,n),x(b,n),g.length>0&&(b.push(...g),g.length=0),b.length>0?e():(m=!1,v=0)})}()}function C(e,n=1){const t={task:e,args:[],pending:!1,firstRun:!0};return(...r)=>{t.firstRun||!y?(t.firstRun=!1,e(...r)):t.pending||(t.args=r,k(t,n))}}class N{constructor(e,n){this.update=C(e=>{if(this.value===e)return;const{name:n,element:t}=this;"ownerSVGElement"in t?t.setAttributeNS(function(e){return f[e.split(":")[0]]}(n),n,e):n in t?t[n]=e:void 0!==e?t.setAttribute(n,e):t.hasAttribute(n)&&t.removeAttribute(n),this.value=e}),this.name=n,this.element=e}}class w{constructor(e){this.update=C(e=>{if(e===this.value)return;const{element:n,placeholder:t}=this;"object"!=typeof e&&n.nodeType===Node.TEXT_NODE?n.textContent=e:c(e,n)?n.update(e.values):Array.isArray(e)?(this.value instanceof Map||n.nodeType===Node.COMMENT_NODE||this.replaceWith(t),e=this.updateArray(e)):this.replaceWith(null==e?t:e),this.value=e}),this.element=this.placeholder=e}updateArray(e){const n=this.value instanceof Map?this.value:new Map,{element:t}=this;let r=t;const o=e.reduce((e,t,o)=>{const i=String(t.key||o);let a=n.get(i);if(a)c(a,t)?a.update(t.values):(s(t.create(),a.range),n.set(i,a=t));else{const e=t.create();r.parentNode.insertBefore(e,r.nextSibling),n.set(i,a=t)}return r.nextSibling!==a.range[0]&&function(e,n,t=n.parentNode){const[r,s]=e.range,o=n.nextSibling;let i=r;do{const e=i.nextSibling;t.insertBefore(i,o),i=e}while(i!==s);t.insertBefore(s,o)}(a,r),r=a.range[1],e.push(i),e},[]);return n.forEach((e,n,t)=>{-1===o.indexOf(n)&&(e.delete(),t.delete(n))}),n}replaceWith(e){const{element:n,value:t}=this;var o;t instanceof Map&&(t.forEach(e=>e.delete()),t.clear()),n!==e&&(this.element=e=u(e)?e:(o=e)&&o.nodeType?e:r(e),s(u(e)?e.create():e,u(n)?n.range:n))}}function j(){return NodeFilter.FILTER_ACCEPT}function _(e,n){const t=e.attributes;let r=t.length;for(;r--;){const{name:s,value:o}=t.item(r),i=h(o);-1!==i&&(e.removeAttribute(s),n[i]={type:N,name:s,nodePath:a(e)})}}function E(e,n){const t=h(e.data);-1!==t&&(n[t]={type:w,nodePath:a(e)},e.nodeValue="")}function O(e,n){(function(e){return e.match(new RegExp(d,"g"))||[]})(e.data).forEach(t=>{const s=r();(e=e.splitText(e.data.indexOf(t))).deleteData(0,t.length),e.parentNode.insertBefore(s,e),n[h(t)]={type:w,nodePath:a(s)}})}function S(e){const n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,j,!1),t=[];for(;n.nextNode();){const e=n.currentNode;e.nodeType===Node.ELEMENT_NODE?(_(e,t),p.test(e.tagName)&&[].forEach.call(e.childNodes,e=>O(e,t))):E(e,t)}return t}function A(e,n){return n.map(n=>new n.type(function(e,n){for(let t=0,r=n.length;t<r;t++)e=e.childNodes[n[t]];return e}(e,n.nodePath),n.name))}j.acceptNode=j;const M=new WeakMap;function T(e,n){let r=M.get(e);r||M.set(e,r=function(e,n){const r=document.createElement("template");r.innerHTML=n?`<${n}>${e}</${n}>`:e;let s=r.content;if(n){const e=document.createRange();e.selectNodeContents(s.firstChild),s=e.extractContents()}return s.insertBefore(t(),s.firstChild),s.appendChild(t()),{content:s,expressions:S(s)}}(function(e){const n=new RegExp("^[^]*<([0-9a-zA-Z]+)(?:\\s*[^<\\s\\0\"'>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"?|'[^']*'?|[^\\s'\">]*))?)*\\s*(>?)|[^]*(>)[^]*|[^]*$","i");let t,r=!1,s=e[0];for(let o=0,i=e.length;o<i-1;o++){const i=`__${o}__`,a=e[o].match(n);a[1]&&(t=a[1],r=!a[2]),(a[2]||a[3])&&(r=p.test(t)),s+=(r?i:`\x3c!--${i}--\x3e`)+e[o+1]}return s}(e),n));const s=document.importNode(r.content,!0);return{fragment:s,expressions:A(s,r.expressions)}}var L;class R{constructor(e,n,t){this[L]=!0,this.values=n,this.strings=e,this.context=t}withKey(e){return this.key=e,this}update(e){for(let n=0;n<e.length;n++)void 0!==this.expressions[n]&&this.expressions[n].update(e[n])}delete(){o(...this.range),this.range=void 0,this.expressions=void 0}create(){const{fragment:e,expressions:n}=T(this.strings,this.context);return this.expressions=n,this.range=[e.firstChild,e.lastChild],this.update(this.values),e}}function P(e,n){P.instances.has(n)?P.instances.get(n).update(e.values):(P.instances.set(n,e),o(n.firstChild,null,n),n.appendChild(e.create()))}function $(e,...n){return new R(e,n)}L=l,P.instances=new WeakMap;const B=function(e){return class extends e{constructor(){super(...arguments),this.__props=Object.create(null)}static get observedAttributes(){return function(e){if(!e.__attrsMap){const n=e.properties,t=Object.create(null);if(n)for(const r in n)t[r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()]=r,Object.defineProperty(e.prototype,r,{get(){return this.__props[r]},set(e){const n=this.__props[r];this.__props[r]=e,this.rendered&&n!==e&&this.update()}});e.__attrsMap=t,e.__observedProps=Object.keys(t)}return e.__observedProps}(this)}attributeChangedCallback(e,n,t){const{__attrsMap:r,properties:s}=this.constructor;this[r[e]]=s[e](t)}}}((W=HTMLElement,class extends W{constructor(){super(...arguments),this.state={},this.rendered=!1,this.renderCallbacks=[],this.renderRoot=this}attachShadow(e){return this.renderRoot=super.attachShadow.call(this,e)}connectedCallback(){this.update()}setState(e,n){const t=this.state;this.state=Object.assign({},t,"function"==typeof e?e(t,this):e),n&&this.renderCallbacks.push(n),this.update()}render(){return null}update(){this.rendered=!0;const e=this.render();for(e&&P(e,this.renderRoot);this.renderCallbacks.length;)this.renderCallbacks.shift()()}}));var W;function z(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function D(e){return!!e&&(!!e.nodeType||u(e))}function F(e){try{if("string"==typeof e)return JSON.parse(e)}catch(e){console.error(e)}return e}function H(){var e=n(["\n            <style>\n                :host {\n                    --background-color: rgb(42, 47, 58);\n                    --color: #f8f8f2;\n                    --string-color: #a3eea0;\n                    --number-color: #d19a66;\n                    --boolean-color: #4ba7ef;\n                    --null-color: #df9cf3;\n                    --key-color: rgb(111, 179, 210);\n                    --collapsed-color: #fff;\n                    --collapsed-background: #66d9ef;\n                    --font-family: monaco, Consolas, 'Lucida Console', monospace;\n                    --preview-color: rgba(222, 175, 143, 0.9);\n\n                    display: block;\n                    background-color: var(--background-color);\n                    color: var(--color);\n                    padding: 0.5rem;\n                    font-family: var(--font-family);\n                    font-size: 1rem;\n                }\n\n                .preview {\n                    color: var(--preview-color);\n                }\n\n                .collapsed ul {\n                    display: none;\n                }\n\n                .null {\n                    color: var(--null-color, #df9cf3);\n                }\n\n                .key {\n                    color: var(--key-color, #f9857b);\n                    display: inline-block;\n                }\n\n                .collapsable:before {\n                    display: inline-block;\n                    color: var(--color);\n                    padding-right: 5px;\n                    padding-left: 5px;\n                    font-size: 0.7rem;\n                    content: 'â–¶';\n                    transition: transform 195ms ease-in;\n                    transform: rotate(90deg);\n                    color: var(--key-color);\n                }\n\n                .collapsable.collapsableCollapsed:before {\n                    transform: rotate(0);\n                }\n\n                .collapsable {\n                    cursor: pointer;\n                    user-select: none;\n                }\n\n                span:not(.collapsable) {\n                    margin-left: 27px;\n                }\n\n                .string {\n                    color: var(--string-color);\n                }\n\n                .number {\n                    color: var(--number-color);\n                }\n\n                .boolean {\n                    color: var(--boolean-color);\n                }\n\n                .collapsed {\n                    font-size: 10px;\n                    background-color: var(--collapsed-background);\n                    color: var(--collapsed-color);\n                    padding: 0.3em;\n                    border-radius: 2px;\n                }\n\n                ul {\n                    padding: 0;\n                    clear: both;\n                }\n\n                ul,\n                li {\n                    list-style: none;\n                    position: relative;\n                }\n\n                li ul > li {\n                    position: relative;\n                    padding-top: 0.25rem;\n                    margin-left: 1.5rem;\n                    padding-left: 0px;\n                }\n\n                ul:before {\n                    content: '';\n                    border-left: 1px solid #333;\n                    position: absolute;\n                    left: 0.5rem;\n                    top: 0.5rem;\n                    bottom: 0.5rem;\n                }\n\n                ul.hover:before {\n                    border-left: 1px solid #666;\n                }\n            </style>\n            <json-object-node data="," settings="," level=0></json-object-node>\n        "]);return H=function(){return e},e}function K(){var e=n(["\n                        <li>\n                            <json-nested-object-node key="," data="," settings="," level=","></json-nested-object-node>\n                        </li>\n                    "]);return K=function(){return e},e}function V(){var e=n(["\n            <ul>\n                ","\n            </ul>\n        "]);return V=function(){return e},e}function J(){var e=n(["\n            ","\n            ","\n        "]);return J=function(){return e},e}function X(){var e=n(["\n                  <json-object-node data="," settings="," level=","></json-object-node>\n              "]);return X=function(){return e},e}function Z(){var e=n(['\n                  <span class="preview">\n                      ',"\n                  </span>\n              "]);return Z=function(){return e},e}function q(){var e=n(["\n                  <span class=",">","</span>\n              "]);return q=function(){return e},e}function G(){var e=n(["\n    <span\n        class=","\n        onClick=","\n    >\n        ",":\n    </span>\n"]);return G=function(){return e},e}var I=e=>{var{isCollapsable:n,collapsed:t,onClick:r,key:s}=e;return $(G(),function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(Boolean).join(" ")}(s&&"key",n&&"collapsable",t&&"collapsableCollapsed"),r,s)};class Q extends B{constructor(){super(...arguments),this.data=null,this.collapsed=!0,this.handleKeyClick=e=>{e.preventDefault(),this.collapsed=!this.collapsed}}connectedCallback(){super.connectedCallback(),this.collapsed=!(this.settings&&this.settings.openlevel&&this.level<=this.settings.openlevel)}static get properties(){return{data:F,collapsed:Boolean,key:String,settings:F,level:Number}}static get is(){return"json-nested-object-node"}renderValue(e){return D(e)?e:$(q(),z(e),JSON.stringify(e))}renderChild(n){return this.collapsed?$(Z(),function(n,t){var{nodeCount:r,maxLength:s}=e({nodeCount:3,maxLength:15},t),o=Array.isArray(n),i=Object.keys(n),a=i.slice(0,r),l=[o?"[ ":"{ "];return l.push(a.reduce((e,t)=>{var r=[],i=n[t],a=z(i);return o||r.push(t+": "),"object"===a?r.push("{ ... }"):"array"===a?r.push("[ ... ]"):"string"===a?r.push('"'+i.substring(0,s)+(i.length>s?"...":"")+'"'):r.push(String(i)),e.concat(r.join(""))},[]).join(", ")),i.length>r&&l.push(", ..."),l.push(o?" ]":" }"),l.join("")}(n)):$(X(),n,this.settings,this.level)}render(){var e,{data:n,key:t}=this,r=(e=n)!==Object(e)||D(n);return $(J(),I({isCollapsable:!r,collapsed:this.collapsed,key:t,onClick:!r&&this.handleKeyClick}),r?this.renderValue(n):this.renderChild(n))}}class U extends B{constructor(){super(...arguments),this.data=null,this.collapsed=!0}static get is(){return"json-object-node"}static get properties(){return{data:F,collapsed:Boolean,settings:F,level:Number}}render(){var{data:e}=this;return $(V(),Object.keys(e).map(n=>$(K(),n,e[n],this.settings,this.level+1).withKey(n)))}}class Y extends B{constructor(){super(...arguments),this.data=null,this.settings={}}static get is(){return"json-viewer"}static get properties(){return{data:F,settings:F,openlevel:Number}}connectedCallback(){var e=this.innerText.trim();e&&(this.data=JSON.parse(e)),this.attachShadow({mode:"open"}),this.settings=this.settings||{},this.settings.openlevel=this.openlevel,super.connectedCallback()}render(){return $(H(),this.data,this.settings)}}customElements.define(U.is,U),customElements.define(Q.is,Q),customElements.define(Y.is,Y);
//# sourceMappingURL=index.js.map
